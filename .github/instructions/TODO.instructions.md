---
applyTo: "**"
---

# 📘 Flash Cards - قائمة المهام

## 🤖 تعليمات للـ AI

### 🎯 قواعد أساسية

- ركّز فقط على قسم "🚨 المهام المطلوبة الآن".
- لا تعمل على مهام أخرى إلا بطلب صريح من المستخدم.

### 🔄 بروتوكول سريع

1. تحقق من "المطلوبة الآن" → إذا فارغ، انقل مهمة مناسبة من "غير المطلوبة".
2. اعمل على المهمة → حدّث هذا الملف عند الإكمال.
3. انقل المكتملة إلى "تم الإنجاز".

---

## ✅ تم الإنجاز بالفعل

- [x] إعداد Create React App في مجلد `flash-cards/`
- [x] إنشاء المكونات الأساسية (Card, DeckList, Forms, StudyMode)
- [x] إعداد CardsContext وإرفاقه بالتطبيق
- [x] إعداد بيانات عينات الأمن السيبراني في `cybersecurityCards.js`
- [x] إعداد الاختبارات الافتراضية CRA
- [x] تصميم واجهة المستخدم الأساسية مع CSS
- [x] إعداد نظام التنقل بين الصفحات المختلفة
- [x] تطبيق إدارة الحالة العامة عبر Context API
- [x] تحويل المشروع إلى هيكل Laravel + React (Backend + Frontend منفصلين)
- [x] إنشاء مجلد backend وإعداد مشروع Laravel جديد داخله
- [x] تهيئة قاعدة بيانات SQLite وإعداد .env وCORS
- [x] إنشاء نماذج ومخططات (migrations) Deck و Card مع العلاقات
- [x] إنشاء REST API: CRUD للمجموعات والبطاقات (routes/api, controllers)
- [x] إضافة Seeder لبيانات العينة (تحويل cybersecurityCards.js إلى Seeder)
- [x] اختبار الهجرة: تشغيل migrations وseeders محلياً
- [x] تهيئة الواجهة React للاستهلاك من API (عميل fetch بسيط + fallback لـ localStorage)
- [x] تحديث التوثيق: README يوضح بنية backend/frontend وخطوات التشغيل
- [x] إضافة اختبارات أساسية لطبقة API (Feature tests في Laravel)
- [x] إنشاء مجلد `/tests` منفصل لجميع ملفات الاختبار
- [x] تنظيم ملفات الاختبار والسكريبتات في مجلد مخصص
- [x] إضافة توثيق شامل لإجراءات الاختبار في `/tests/README.md`
- [x] تحديث قواعد AI_INSTRUCTIONS لتشمل تنظيم مجلد الاختبارات
- [x] إضافة نظام البطاقات غير المتقنة البسيط: 6 بطاقات حد أقصى مع وضع مراجعة مركزة
- [x] إضافة لوحة إعدادات شاملة مع خيارات دراسة متقدمة

## 🚨 المهام المطلوبة الآن

إضافة MCP Tool للتحكم في البطاقات عبر AI (مطلوب بواسطة المستخدم)

خطة التنفيذ المختصرة:

- إنشاء MCP Server جديد (TypeScript) ضمن tools/mcp/flashcards-server
- تعريف أدوات للتحكم في البطاقات: createCard, updateCard, deleteCard, toggleKnown, markSeen, markDifficult, getCardStats
- دعم أدوات للمجموعات (اختياري الآن): listDecks, createDeck, updateDeck, deleteDeck, resetDeck
- الاتصال بواجهة Laravel REST عبر BASE_URL قابل للتهيئة (.env)
- كتابة اختبار/Smoke بسيط ضمن مجلد /tests للتحقق من صحة الإعداد وSchemas
- إضافة README قصير يوضح التشغيل عبر Desktop Commander MCP Execute

الخطوات التفصيلية:

1. تهيئة مشروع MCP Server مستقل: package.json, tsconfig.json
2. بناء عميل HTTP ذكي مع معالجة للأخطاء وتوحيد الاستجابات
3. تعريف tools/list و tools/call وفق MCP SDK وتوصيل الأدوات المذكورة
4. إعداد سكربتات npm للتشغيل المحلي عبر stdio
5. إضافة tests بسيطة (Smoke + Schema) في /tests دون الاعتماد على الشبكة
6. توثيق الإعداد والاستخدام في tools/mcp/flashcards-server/README.md

الافتراضات:

- الخادم Laravel يعمل على http://localhost:8000/api افتراضياً، مع إمكانية ضبطه عبر متغير BACKEND_BASE_URL
- لا حاجة لمصادقة حالياً؛ إن لزم لاحقاً سنضيف Header اختياري AUTH_TOKEN

مخرجات متوقعة:

- MCP server جاهز للتكامل مع عملاء MCP لتعديل البطاقات والمجموعات
- وثائق تشغيل واختبارات دخانية للتحقق من الأساسيات

تعديل فوري (Delta Applied):

- توحيد BACKEND_BASE_URL مع واجهة الموقع: إضافة تطبيع لإلحاق /api تلقائيًا عند غيابه.
- إضافة تسجيل بدء يعرض BASE_URL الفعلي عند أول استدعاء tools/list.
- إصلاح اسم دالة errJson الخاطئ في index.ts لمنع أعطال الأخطاء.
- موضع التعديلات: tools/mcp/flashcards-server/src/index.ts.

_لا توجد مهام مطلوبة حالياً. تم إضافة الميزات الجديدة بنجاح:_

- ✅ نظام البطاقات غير المتقنة (6 بطاقات حد أقصى)
- ✅ وضع المراجعة المركزة التلقائي
- ✅ زرين بسيطين: "Mark as Known" و "Next"
- ✅ عداد مرئي للبطاقات غير المتقنة
- ✅ لوحة إعدادات شاملة مع جميع خيارات التحكم
- ✅ خيار إخفاء/إظهار البطاقات المتقنة
- ✅ رسائل تعليمية واضحة

---

## 📋 المهام غير المطلوبة الآن

> جميع المهام المؤجلة أو المستقبلية مرتبة حسب الأولوية

### 🔧 تحسينات أساسية

- [ ] **إضافة تخزين محلي (localStorage)** - حفظ البطاقات والمجموعات بين الجلسات
- [ ] **تحسين StudyMode** - إضافة إحصائيات الجلسة (إجابات صحيحة/خاطئة، الوقت المستغرق)
- [ ] **تحسين DeckList** - إظهار عدد البطاقات بكل مجموعة وإجراءات سريعة (Edit/Delete/Study)
- [ ] **إضافة نظام البحث** - فلترة البطاقات حسب التصنيف أو الكلمات المفتاحية

### 🧩 المكونات والواجهات

- [ ] **تطوير مكون إحصائيات** - عرض إحصائيات تفصيلية للتقدم في التعلم
- [ ] **إضافة مكون إعدادات** - خيارات لتخصيص التطبيق (سرعة البطاقات، ألوان، إلخ)
- [ ] **تحسين Card component** - إضافة animations للانقلاب والانتقال
- [ ] **إضافة مكون تنبيهات** - رسائل نجاح/خطأ للمستخدم
- [ ] **تطوير مكون تقييم** - تقييم مستوى الصعوبة لكل بطاقة

### 🧠 منطق وبيانات متقدمة

- [ ] **دعم التصنيفات (Tags)** - تنظيم البطاقات بتصنيفات متعددة
- [ ] **مولّد بطاقات مجمع** - استيراد عدة بطاقات دفعة واحدة من ملف
- [ ] **نظام تذكيرات** - تذكير بمراجعة البطاقات بناءً على جدولة ذكية
- [ ] **دعم الصور والوسائط** - إمكانية إضافة صور للبطاقات
- [ ] **نظام صعوبة تكيفي** - تعديل تكرار البطاقات بناءً على الأداء

### 📱 تجربة المستخدم والتصميم

- [ ] **تحسين الاستجابة على الهواتف** - تصميم محسّن للشاشات الصغيرة
- [ ] **تحسين قابلية الوصول** - دعم لوحة المفاتيح، ARIA labels، قارئ الشاشة
- [ ] **إضافة نمط داكن/فاتح** - خيار تبديل بين الأنماط
- [ ] **تحسين animations والانتقالات** - جعل التطبيق أكثر سلاسة
- [ ] **إضافة اختصارات لوحة المفاتيح** - تسريع العمليات الشائعة

### 🔄 استيراد وتصدير

- [ ] **دعم تصدير JSON** - تصدير البطاقات والمجموعات لملف JSON
- [ ] **دعم استيراد JSON** - استيراد البطاقات من ملفات JSON
- [ ] **دعم تصدير CSV** - تصدير البطاقات بتنسيق CSV للتحرير الخارجي
- [ ] **دعم استيراد Anki** - استيراد بطاقات من تطبيق Anki
- [ ] **مزامنة السحاب** - حفظ البيانات في السحاب (اختياري)

### 🧪 الاختبارات والجودة

- [ ] **كتابة اختبارات للمكوّنات** - اختبارات شاملة لـ Card, DeckList, StudyMode
- [ ] **اختبار CardsContext** - تغطية جميع الحالات الطرفية (إضافة/حذف/تعديل)
- [ ] **إعداد GitHub Actions** - CI/CD بسيط لتشغيل الاختبارات تلقائياً
- [ ] **اختبارات التكامل** - اختبار التفاعل بين المكونات
- [ ] **اختبارات الأداء** - قياس وتحسين أداء التطبيق

### ⚙️ المهام التقنية والتوثيق

- [ ] **تنظيف الأكواد** - إزالة الأكواد غير المستخدمة وتحسين الهيكلة
- [ ] **توثيق البنية** - تحديث README.md مع مخطط تفصيلي للتدفق
- [ ] **إضافة PropTypes أو TypeScript** - تحسين type safety
- [ ] **تحسين bundle size** - تحليل وتصغير حجم التطبيق
- [ ] **إعداد ESLint/Prettier** - معايير كتابة كود موحدة

### 🚀 ميزات متقدمة

- [ ] **وضع التعلم التفاعلي** - ألعاب وتحديات تفاعلية
- [ ] **تتبع التقدم بصرياً** - رسوم بيانية لإحصائيات التعلم
- [ ] **مشاركة المجموعات** - إمكانية مشاركة مجموعات البطاقات مع الآخرين
- [ ] **نظام المستويات والإنجازات** - gamification للتحفيز
- [ ] **دعم متعدد المستخدمين** - حسابات مستخدمين متعددة

---

## 📝 ملاحظات مهمة

### قواعد الأولوية:

1. **الوظائف الأساسية** قبل المميزات المتقدمة
2. **تجربة المستخدم** قبل الميزات الإضافية
3. **الاستقرار والاختبارات** قبل الميزات الجديدة
4. **التوثيق** مع كل ميزة جديدة

### تذكير سريع:

- ابقِ قسم "المهام المطلوبة الآن" صغيراً وواضحاً لضمان التركيز
- حدّث هذا الملف عند إكمال أي مهمة
- اطلب موافقة قبل البدء بميزات كبيرة تتطلب مكتبات جديدة

```

```
